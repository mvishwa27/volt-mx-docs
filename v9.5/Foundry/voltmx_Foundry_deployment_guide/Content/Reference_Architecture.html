<!-- Elements added to main will be displayed on all pages -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mvishwa27.github.io/volt-mx-docs/latest/Foundry/voltmx_Foundry_deployment_guide/Content/Reference_Architecture.html">
      
      
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.1.18">
    
    
      
        <title>Deployment Checklist and Example Case Studies - HCL Volt MX Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/vmx_style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deployment-checklist-and-example-case-studies" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
<div class="content-types-banner">
    <ul class="sub-nav">
        <li class="home-link">
            <a href="https://opensource.hcltechsw.com/volt-mx-docs/index.html"  class="sub-link ">Home</a>
        </li>
        <li>
            <a href="https://opensource.hcltechsw.com/volt-mx-docs/docs/tutorials/Tutorials.html" class="sub-link">Tutorials</a>
        </li>
        <li>
            <a href="https://opensource.hcltechsw.com/volt-mx-docs/docs/documentation/index.html" class="sub-link" id="docLink">Documentation</a>
        </li>
        <li>
            <a href="https://support.hcltechsw.com/csm?id=kb_search&spa=1&kb_category=db382ff1db631c14a45ad9fcd3961936" title="Articles" class="sub-link">Articles</a>
        </li>
        <li>
            <a href="https://hclsoftwareu.hcltechsw.com/#VoltMxLearningJourneys" title="Articles" class="sub-link">Software Academy</a>
        </li>
    </ul>
</div>

          </div>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
You're not viewing the latest version.
<a href="../../../.."> 
  <strong>Click here to go to latest version.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="HCL Volt MX Documentation" class="md-header__button md-logo" aria-label="HCL Volt MX Documentation" data-md-component="logo">
      
  <img src="../../../assets/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HCL Volt MX Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deployment Checklist and Example Case Studies
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/HCL-TECH-SOFTWARE/volt-mx-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    HCL-TECH-SOFTWARE/volt-mx-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="HCL Volt MX Documentation" class="md-nav__button md-logo" aria-label="HCL Volt MX Documentation" data-md-component="logo">
      
  <img src="../../../assets/favicon.png" alt="logo">

    </a>
    HCL Volt MX Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/HCL-TECH-SOFTWARE/volt-mx-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    HCL-TECH-SOFTWARE/volt-mx-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
                  
<li class="md-nav__item">
  <a href="../../../index.html" class="md-nav__link">
    Introducing Volt MX
  </a>
</li>
  
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#checklist-for-volt-mx-foundry-deployment" class="md-nav__link">
    Checklist for Volt MX Foundry Deployment
  </a>
  
    <nav class="md-nav" aria-label="Checklist for Volt MX Foundry Deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#infrastructure-setup" class="md-nav__link">
    Infrastructure Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-volt-mx-foundry" class="md-nav__link">
    Installing Volt MX Foundry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-steps-post-install" class="md-nav__link">
    Manual Steps Post-Install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-the-setup" class="md-nav__link">
    Test the Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#activate-the-license" class="md-nav__link">
    Activate the License
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#case-studies-tomcat-multi-node-cluster-haproxy-load-balancer-with-mysql-database" class="md-nav__link">
    Case Studies - Tomcat Multi-Node Cluster + HAProxy Load Balancer with MySQL Database
  </a>
  
    <nav class="md-nav" aria-label="Case Studies - Tomcat Multi-Node Cluster + HAProxy Load Balancer with MySQL Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#infrastructure-setup_1" class="md-nav__link">
    Infrastructure Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation-of-volt-mx-foundry" class="md-nav__link">
    Installation of Volt MX Foundry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-steps-post-install_1" class="md-nav__link">
    Manual Steps Post-Install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-the-setup_1" class="md-nav__link">
    Test the Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#activate-the-license_1" class="md-nav__link">
    Activate the License
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="deployment-checklist-and-example-case-studies"><a name="top"></a><madcap:keyword term="Deployment Check List">Deployment Checklist and <madcap:keyword term="Deployment Case Studies">Example Case Studies</madcap:keyword></madcap:keyword></h1>
<p>This section provides a checklist for a standard production grade Volt MX Foundry deployment. The goal is to help you define a repeatable process to deploy, configure, upgrade, and expand your Volt MX Foundry environment. The case studies that follow, describe a few Volt MX Foundry deployments that were done using well-known Infrastructure components and how they were configured for a standard production environment. Going through this document will help you understand the challenges involved and prepare you for a smooth deployment of Volt MX Foundry within your enterprise.</p>
<h2 id="checklist-for-volt-mx-foundry-deployment"><a name="Checklist"></a>Checklist for Volt MX Foundry Deployment</h2>
<ul>
<li>Infrastructure Setup</li>
<li>Installing Volt MX Foundry</li>
<li>Manual Steps Post-Install</li>
<li>Test the setup</li>
<li>Activate the License</li>
</ul>
<h3 id="infrastructure-setup"><a name="Infrastructure"></a>Infrastructure Setup</h3>
<p>Most production grade Volt MX Foundry Installations would need you to keep in mind the following:</p>
<ul>
<li>
<p><strong>Choice of App Server and Database</strong></p>
<p>Choose from the supported App Servers and Databases as outlined in the <a href="../../voltmxfoundry_supported_devices_os_browsers/Content/Introduction.html">Supported App Servers and Databases</a>.</p>
</li>
<li>
<p><strong>Node Sizing</strong></p>
</li>
<li>A good starting point is to select a standard node as suggested by the minimum Infrastructure requirements for a node running Volt MX Foundry. Refer to <a href="Deployment.html#app-server-sizing">App Server sizing</a>.</li>
<li>Determine the number of nodes by experimentation, and by testing actual workloads. Refine the number of nodes iteratively based on the resource usage and cost to improve the model.</li>
<li>
<p><strong>Host Configuration</strong></p>
<p>Host configuration varies based on the OS used and the existing configuration standards, but there are some important steps that you need to follow after installing the OS:</p>
</li>
<li>
<p>Clock synchronization using NTP or similar service. Clock skew can produce errors that are hard to debug.</p>
</li>
<li>
<p>Hostnames are used for node identification in the cluster. The hostname must be set in a non-ephemeral way.</p>
</li>
<li>
<p><strong>App Server Specific Settings</strong></p>
</li>
<li>
<p>JVM Heap memory needs configuration.</p>
</li>
<li>Anything specific to the AppServer – Volt MX Foundry combinations which had not been taken care of during the installation process, for example, Configure LOG_ROOT environment variable in WebSphere for the location of logs.</li>
<li>
<p><strong>Database setup</strong></p>
<p>Every database has its own specific way of setting up Redundancy, archival, and load distribution mechanisms. Contact your in-house DBA for further details.</p>
</li>
<li>
<p><strong>Load Balancer considerations</strong></p>
</li>
<li>
<p>A request forwarded from the load balancer to any of the backend nodes should have the X-Forwarded-For header stamped with the source client IP address. The backend needs the source client IP address as all the requests forwarded from the Load Balancer would have the Load Balancer IP address.</p>
</li>
<li>Volt MX Foundry Console and Admin components make use of cookies to direct requests to the node on which the session is currently active. The same needs to be handled appropriately at the load balancer end.</li>
<li>
<p><strong>Security considerations</strong></p>
<ul>
<li>If you need to use the HTTPS protocol for communication, you must provide a certificate/key from a CA. For Development environments, you may use self-signed certificates. The SSL connection can either be terminated at the load balancer or passed through to the back-end nodes.</li>
<li>
<p><code>/mfconsole</code> and <code>/admin</code> contexts are administrative consoles and access to the same should be restricted. A secure approach would be to use two firewalls to create a <madcap:keyword term="DMZ (De-Militarized Zone)">DMZ (De-Militarized Zone). Refer to <a href="Deployment.html#deployment-topology">Deployment Topology</a>.</madcap:keyword></p>
<ul>
<li>
<p>The first firewall also called the perimeter firewall will route traffic to the DMZ only. This is where the Integration or Identity Cluster along with the load balancer would reside.</p>
</li>
<li>
<p>The second or internal firewall will allow traffic from the DMZ to the internal network which is where the Volt MX Foundry Console cluster can be set up.</p>
</li>
<li>
<p>PUT, PATCH and DELETE HTTP operations need to be allowed for Volt MX Foundry Console users. This will be decided based on whether the users are located within the DMZ or the internal network.</p>
</li>
</ul>
</li>
<li>
<p><code>/authService</code>, <code>/middleware</code>, <code>/services</code> are runtime contexts and need to be made available publicly to end-users. You may need to map different URLs for internal users and those that would access identity publicly. Refer <a href="../../voltmx_foundry_user_guide/Content/Multi-Tenant_URL.html">Support to MAP Public URLs - Reverse Proxy (on-premises)</a> for more details on how this can be achieved.</p>
</li>
<li>
<p>You need to whitelist <code>manage.voltmx.com:443</code> and <code>orchestration.voltmx.com:443</code> for License activation. If you are unable to whitelist domains, contact the Volt MX Foundry Cloud Support team to whitelist individual IP addresses.</p>
</li>
<li>Specific Security Hardening Considerations for each Volt MX Foundry Component are available in the <a href="Hardening_Guide.html">Security Hardening</a> section.</li>
</ul>
</li>
</ul>
<h3 id="installing-volt-mx-foundry"><a name="Installation"></a>Installing Volt MX Foundry</h3>
<p>The Volt MX Foundry installer provides an automated way of installing the Foundry Components on a node. The Installer deploys the app server components and executes the database scripts based on your inputs. For more information, refer to the Installation guides for your specific OS at <a href="../../../index.html">VoltMX Documentation</a>.</p>
<h3 id="manual-steps-post-install"><a name="ManualSteps"></a>Manual Steps Post-Install</h3>
<p>For Cluster setups, follow these steps Post-Installation:</p>
<ul>
<li>
<p>You can find the accounts properties file for the Accounts WebApp at <code>&lt;Installer Folder&gt;/tomcat/webapps/accounts/WEB-INF/classes/</code>. Update the <strong>WAAS_BASE_URL</strong> with the load balancer URL for all the nodes. In the same file, configure the <strong>ACCOUNTS_ENCRYPTION_KEY</strong> value with the same value as in all the nodes.</p>
</li>
<li>
<p>You can find the config.properties file for the Volt MX Foundry Console WebApp at : <code>&lt;Installer Folder&gt;/tomcat/webapps/mfconsole/WEB-INF/classes/</code>. In the config.properties file, configure the WAAS_BASE_URL and KONY_ACCOUNT_API_BASE_URL with the load balancer URL for all the nodes.</p>
</li>
<li>
<p>You can find the authservice.key file for the AuthService WebApp at: <code>&lt;Installer Folder&gt;/tomcat/webapps/authService/WEB-INF/classes/</code>. Update the Authservice.key value with the same value in all nodes.</p>
</li>
<li>
<p>You can find the workspaceService.key and workspaceService.properties files for the Workspace WebApp at <code>&lt;Installer Folder&gt;/tomcat/webapps/workspace/WEB-INF/classes/</code>. Copy the workspaceService.key and workspaceService.properties files in all nodes.</p>
</li>
<li>
<p>Set up a Memcached Cluster for the Integration nodes if needed. For more details refer to <a href="../../vmf_integrationservice_admin_console_userguide/Content/Runtime_Configuration.html#Memcache">Memcache Configuration</a> in the Integration Admin Console User Guide.</p>
</li>
<li>
<p>Re-deploy the WebApps and restart the App Servers if needed.</p>
</li>
<li>
<p>Launch the Volt MX Foundry Console URL. This should lead to the registration page. Enter the authService URL. This may either be the load balancer URL or the authService node URL.</p>
</li>
</ul>
<h3 id="test-the-setup">Test the Setup</h3>
<p>Use the following Healthcheck URLs post-deployment to check the status of a Volt MX Foundry component on each node:</p>
<ul>
<li>
<p>For Volt MX Foundry console: http://&lt;domain_name&gt;:&lt;port&gt;/mfconsole/health_check/all</p>
<p><img alt="" src="Resources/Images/For_Console.png" /></p>
</li>
<li>
<p>For Middleware: http://&lt;domain_name&gt;:&lt;port&gt;/services/healthcheck</p>
<p><img alt="" src="Resources/Images/For_Middleware_519x135.png" /></p>
</li>
<li>
<p>For Auth Service: http://&lt;domain_name&gt;:&lt;port&gt;/authService/v1/manage/checkhealth</p>
<p><img alt="" src="Resources/Images/For_Auth_Service_572x150.png" /></p>
</li>
<li>
<p>For Sync: http://&lt;domain_name&gt;:&lt;port&gt;/syncconsole/healthcheck</p>
<p><img alt="" src="Resources/Images/For_Sync_561x202.png" /></p>
</li>
<li>
<p>For Messaging: http://&lt;domain_name&gt;:&lt;port&gt;:53409/vpns/service/healthcheck/json</p>
<p><img alt="" src="Resources/Images/For_Messaging_554x188.png" /></p>
</li>
</ul>
<h3 id="activate-the-license"><a name="Activate"></a>Activate the License</h3>
<p>Follow the instructions located <a href="../../voltmx_licensing_guide/Content/Homepage.html">VoltMX Licensing Guide</a> for activating the License based on your deployment model.</p>
<h2 id="case-studies-tomcat-multi-node-cluster-haproxy-load-balancer-with-mysql-database"><a name="Case"></a>Case Studies - Tomcat Multi-Node Cluster + HAProxy Load Balancer with MySQL Database</h2>
<h3 id="infrastructure-setup_1"><a name="InfrastructureCS"></a>Infrastructure Setup</h3>
<p>The Volt MX Foundry Installer includes a pre-configured Tomcat app server which will be installed followed by deployment of selected components during the install process.</p>
<ul>
<li><strong>Choice of App Server and Database</strong>: Tomcat 8.5 and MySQL 5.7.   </li>
<li><strong>Node Sizing</strong><ul>
<li>2 nodes for Volt MX Foundry Integration/Identity/Metrics, 16 GB RAM, Intel(R) Xeon(R) CPU E5-2630 v2 @ 2.60GHz.</li>
<li>1 node for Volt MX Foundry Console.</li>
<li>1 node for MySQL 5.7.</li>
<li>1 node for the LoadBalancer.</li>
</ul>
</li>
<li><strong>Host Configuration</strong><ul>
<li>CentOS 6 is installed on all nodes.</li>
<li>Clocks of all nodes are brought to sync with <code>ntpupdate</code>.</li>
<li>Hostnames are configured.</li>
</ul>
</li>
<li><strong>App Server Configuration</strong>: Pre-configured Apache Tomcat 8.5.x is included in the Volt MX Foundry Installer.<em>   </em><em>Database Setup</em>*: MySQL 5.7 is installed on a node with CentOS 6.</li>
<li><strong>Security Considerations</strong>: Certificate/key from CA is obtained and converted into the .pem format. The load balancer terminates the SSL Connection and communicates with the backend servers using HTTP.</li>
<li><strong>Load Balancer Considerations</strong>: Apache Tomcat does not include a load balancer out of the box. However, there are several standard, and open source load balancers available which are compatible with Tomcat. This case study uses HAProxy with the following configuration:</li>
</ul>
<pre><code>

    frontend proxy_front

    bind * : 80

    bind * : 443 ssl crt /root/hclnet.pem   
    #By default all requests(Integration/Identity) will be forwarded to the nodes' backend

    Certificate provided for ssl termination

    redirect scheme https if !{ ssl_fc }  
    #Redirects to HTTPS if the user comes via HTTP

    mode http 

    acl url_mfconsole path_beg /mfconsole                 

    acl url_mfconsole path_beg /accounts

    acl url_mfconsole path_beg /workspace

    use_backend console if url_mfconsole  
    #Any request on any of the VoltMX Foundry Console Component contexts will be redirected to the backend of the console

    default_backend nodes

    backend console

    mode http

    option forwardfor  
    #Insert the X-Forwarded-For header. HAProxy will stamp this header with the IP of the source client

    http-request set-header X-Forwarded-Port %[dst_port]

    http-request add-header X-Forwarded-Proto https if {ssl_fc }

    server console mbaastest26.hcl.net:9090 check

    backend nodes

    mode http

    balance roundrobin  

    option forwardfor

    http-request set-header X-Forwarded-Port %[dst_port]  

    http-request add-header X-Forwarded-Proto https if {ssl_fc}  

    cookie JSESSIONID prefix nocache  

    server web1 mbaastest12.hcl.net:8080 check cookie web1  

    server web2 mbaastest36.hcl.net:8080 check cookie web2  

</code></pre>
<h3 id="installation-of-volt-mx-foundry"><a name="InstallationCS"></a>Installation of Volt MX Foundry</h3>
<p>Since this is a cluster setup, you will need to repeat the installation process for each node by selecting the <strong>use existing DB</strong> option and providing the same Database prefix and suffix that was provided during the first install. When prompted for the Host Name/Port, provide the load balancer URL, in case of the Volt MX Foundry Console.</p>
<h3 id="manual-steps-post-install_1"><a name="ManualStepsCS"></a>Manual Steps Post-Install</h3>
<p>Follow the steps in the checklist.</p>
<ul>
<li>
<p>You can find the accounts properties file for the Accounts WebApp at <code>&lt;Installer Folder&gt;/tomcat/webapps/accounts/WEB-INF/classes/</code>. Update the <strong>WAAS_BASE_URL</strong> with the load balancer URL for all the nodes. In the same file, configure the <strong>ACCOUNTS_ENCRYPTION_KEY</strong> value with the same value as in all the nodes.</p>
</li>
<li>
<p>You can find the config.properties file for the Volt MX Foundry Console WebApp at : <code>&lt;Installer Folder&gt;/tomcat/webapps/mfconsole/WEB-INF/classes/</code>. In the config.properties file, configure the WAAS_BASE_URL and KONY_ACCOUNT_API_BASE_URL with the load balancer URL for all the nodes.</p>
</li>
<li>
<p>You can find the authservice.key file for the AuthService WebApp at: <code>&lt;Installer Folder&gt;/tomcat/webapps/authService/WEB-INF/classes/</code>. Update the Authservice.key value with the same value in all nodes.</p>
</li>
<li>
<p>You can find the workspaceService.key and workspaceService.properties files for the Workspace WebApp at <code>&lt;Installer Folder&gt;/tomcat/webapps/workspace/WEB-INF/classes/</code>. Copy the workspaceService.key and workspaceService.properties files in all nodes.</p>
</li>
<li>
<p>Set up a Memcached Cluster for the Integration nodes if needed. For more details refer to <a href="../../vmf_integrationservice_admin_console_userguide/Content/Runtime_Configuration.html#Memcache">Memcache Configuration</a> in the Integration Admin Console User Guide.</p>
</li>
<li>
<p>Re-deploy the WebApps and restart the App Servers if needed.</p>
</li>
<li>
<p>Launch the Volt MX Foundry Console URL. This should lead to the registration page. Enter the authService URL. This may either be the load balancer URL or the authService node URL.</p>
</li>
<li>
<p>Run the <code>./startJMS.sh</code> from <code>/&lt;Foundry Install Location&gt;/jboss_jms/bin</code> to start the JMS queue. Volt MX Foundry needs the JMS queue to capture metrics and generate reports.</p>
</li>
</ul>
<h3 id="test-the-setup_1"><a name="TestCS"></a>Test the Setup</h3>
<p>All health-checks passed.</p>
<h3 id="activate-the-license_1"><a name="ActivateCS"></a>Activate the License</h3>
<p>License Activated successfully.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 - 2025, HCL America, Inc. | <a href="https://hcltechsw.com/wps/portal/legal/privacy">Privacy Statement</a> | <a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.hcltechsw.com%2Fwps%2Fportal%2Flegal%2Fterms-use&data=04%7C01%7Csuresh.chenji%40hcl.com%7Ca77ebddc51574aff8c6c08d8f056542d%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637523600856805537%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=vLnT466NGuIbvQ0nEwfn2qdXeuhHb6XOnh1pibATDI4%3D&reserved=0">Terms of Use</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
<div class="md-social">
  <ul class="social-nav">
    <li><a href="https://www.facebook.com/HCLDigital" class="facebook" target="_blank">Facebook</a></li>
    <li><a href="https://www.linkedin.com/company/hclsoftware" class="linkedin" target="_blank">LinkedIn</a></li>
    <li><a href="https://twitter.com/HCLDigital"  class="twitter" target="_blank">Twitter</a></li>
    <li><a href="https://www.youtube.com/HCLDigitalSolutions" class="youtube" target="_blank">Youtube</a></li>
    <li>
      <a href="https://github.com/HCL-TECH-SOFTWARE" target="_blank" rel="noopener" title="github.com" class="md-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    </li>
  </ul>    
</div>
  </div>
  <div class="md-footer-meta__inner md-grid">
  <span class="md-footer__git_legacy">Please report problems with this documentation by <a class="announcement__link" href="https://github.com/HCL-TECH-SOFTWARE/volt-mx-docs/issues">opening issues in Github</a>.</span>
  <span class="legacy-link md-footer__git_legacy">Can't find a topic? Check the legacy documentation <a class="announcement__link" href="https://opensource.hcltechsw.com/Volt-MX-Documentation-Archive/docs/documentation/" target="_blank">here</a>.</span>
</span>
    </div>
</div>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant"], "search": "../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>